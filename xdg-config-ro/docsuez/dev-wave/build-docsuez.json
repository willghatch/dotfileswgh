{
    "dockerfile": [
        {
            "text": [
                "# Note: ubuntu:24.04 didn't work for wave builds (cmake error), but this ROCm image does",
                "#FROM rocm/pytorch:rocm6.4.1_ubuntu24.04_py3.12_pytorch_release_2.5.1",
                "FROM rocm/pytorch:latest",
                "# This docker image sets CI=1 which breaks interactive things",
                "ENV CI=0",
                "",
                "ENV DEBIAN_FRONTEND=noninteractive",
                "",
                "# Update package lists",
                "RUN apt update",
                "",
                "# Language tools specific to dev-wave",
                "RUN DEBIAN_FRONTEND=noninteractive apt install -y rustup",
                "RUN apt-get install -y dwarfdump",
                "RUN apt-get install -y cmake ninja-build clang",
                ""
            ]
        },
        {"search": "dockerfile-components/dfcomp-apt-core-tools"},
        {"search": "dockerfile-components/dfcomp-apt-cpp-libs"},
        {"search": "dockerfile-components/dfcomp-uv-install"},
        {"search": "dockerfile-components/dfcomp-nodejs-install"},
        {"bash-print-text": "echo 'RUN usermod -l wgh $(getent passwd ' $UID '| cut -d : -f 1)' '||' 'useradd -u' $UID 'wgh \n RUN chsh -s /bin/zsh wgh'"},
        {"text": ""}
    ],
    "build-context-directory": "."
}
